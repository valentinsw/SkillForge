{% extends "base.html" %}
{% load static %}
{% block title %}Courses Â· SkillForge{% endblock %}
{% block content %}
<div class="d-flex flex-wrap justify-content-between align-items-end mb-3 gap-2">
  <h2 class="mb-0">Courses</h2>
  <form method="get" class="d-flex" role="search">
    <input name="q" value="{{ request.GET.q }}" class="form-control" type="search" placeholder="Search courses..." aria-label="Search">
    <button class="btn btn-primary ms-2" type="submit">Search</button>
  </form>
</div>

<div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3 mt-1">
  {% for c in object_list %}
  <div class="col">
    <div class="card h-100 course-card shadow-sm">
      <img src="{% static 'img/course-placeholder.svg' %}" class="card-img-top" alt="">
      <div class="card-body">
        <h5 class="card-title">{{ c.title }}</h5>
        <p class="card-text text-secondary">{{ c.short_description|truncatechars:120 }}</p>
        <a class="btn btn-sm btn-primary" href="{{ c.get_absolute_url }}">View</a>
      </div>
      <div class="card-footer d-flex justify-content-between align-items-center">
        <small class="text-muted">By {{ c.created_by.username }}</small>
        {% if c.is_published %}
          <span class="badge text-bg-success">Published</span>
        {% else %}
          <span class="badge text-bg-secondary">Draft</span>
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
    <p class="text-muted">No courses found.</p>
  {% endfor %}
</div>

{% include "partials/_pagination.html" %}
{% endblock %}
