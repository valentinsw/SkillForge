{% if messages %}
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1080">
  <div id="toast-stack" class="toast-container"></div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const container = document.getElementById('toast-stack');
    {% for message in messages %}
      const toast = document.createElement('div');
      toast.className = 'toast align-items-center text-bg-{{ message.tags|default:"secondary" }} border-0 mb-2';
      toast.role = 'alert';
      toast.ariaLive = 'assertive';
      toast.ariaAtomic = 'true';
      toast.innerHTML = `<div class="d-flex">
          <div class="toast-body">{{ message|escape }}</div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>`;
      container.appendChild(toast);
      new bootstrap.Toast(toast, { delay: 3500 }).show();
    {% endfor %}
  });
</script>
{% endif %}
